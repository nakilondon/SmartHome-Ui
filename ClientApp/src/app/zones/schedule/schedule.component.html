<div class="card" *ngIf="zone">
  <div class="card-header">
    {{pageTitle}} for {{zone.zoneName}}
  </div>

  <div class="card-body">
    <form novalidate (ngSubmit)="saveSchedule()" [formGroup]="scheduleForm">
      <div class="form-group">
        <select class="form-control" id="{{'typeId' + i}}" (change)="changeMode($event)" formControlName="mode">
          <option value="" disabled selected hidden>Select a schedule mode...</option>
          <option value="HomeWeekday">Home Weekday</option>
          <option value="HomeWeekend">Home Weekend</option>
          <option value="AwayWeekend">Away Weekend</option>
          <option value="AwayWeekday">Away Weekday</option>
        </select>
      </div>
      <div class="table-responsive">
        <table class="table mb-0">
          <thead>
            <tr>
              <th>Start Time</th>
              <th>End Time</th>
              <th>Temperature</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let schedule of schedules">
              <td>{{schedule.startTime}}</td>
              <td>{{schedule.endTime}}</td>
              <td>{{schedule.targetTemp}}</td>
              <td><button class="btn btn-outline-primary" type="button" (click)="deleteSchedule(schedule.scheduleId)">
                  Delete
                </button></td>
            </tr>
            <tr>
              <td>
                <div class="form-group">
                  <ngb-timepicker id="startTime" formControlName="startTime"></ngb-timepicker>
                </div>
              </td>
              <td>
                <div class="form-group">
                  <ngb-timepicker id="endTime" formControlName="endTime"></ngb-timepicker>
                </div>
              </td>
              <td>
                <div class="form-group">
                  <input class="form-control" id="target" type="number" step="0.1" formControlName="targetTemp"
                    [ngClass]="{'is-invalid': displayMessage.range}" />
                </div>
              </td>
              <td>
                <div class="form-group">
                  <button class="btn btn-outline-primary" type="button" (click)="addSchedule()">
                    Add
                  </button>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <button class="btn btn-primary mr-3" style="width:80px;" type="button" title="Finish your edits"
                  [routerLink]="['/zones']">
                  Done
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </form>
  </div>


  <div class="alert alert-danger" *ngIf="errorMessage">{{errorMessage}}
  </div>
</div>